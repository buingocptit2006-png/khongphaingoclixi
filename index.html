<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>V√≤ng Quay L√¨ X√¨ 2026</title>

<style>
body{
    margin:0;
    font-family:'Segoe UI',sans-serif;
    text-align:center;
    background:linear-gradient(to bottom,#8B0000,#ff0000);
    color:#FFD700;
    overflow-x:hidden;
}

/* TI√äU ƒê·ªÄ */
h1{
    margin-top:20px;
    font-size:28px;
    text-shadow:0 0 15px gold;
}

/* C√ÇU ƒê·ªêI */
.cau-doi{
    position:fixed;
    top:100px;
    width:60px;
    background:#b30000;
    color:gold;
    padding:10px 5px;
    font-weight:bold;
    writing-mode:vertical-rl;
    text-orientation:upright;
    border:3px solid gold;
    border-radius:8px;
}

.left-doi{ left:5px; }
.right-doi{ right:5px; }

/* PH√ÅO TREO */
.phao{
    position:fixed;
    top:50px;
    width:20px;
    height:150px;
    background:red;
    border-radius:10px;
    box-shadow:0 0 15px gold;
}
.phao.left{ left:80px; }
.phao.right{ right:80px; }

.phao::after{
    content:"";
    position:absolute;
    bottom:-15px;
    left:50%;
    transform:translateX(-50%);
    width:4px;
    height:20px;
    background:gold;
}

/* M≈®I T√äN */
.pointer{
    width:0;
    height:0;
    border-left:15px solid transparent;
    border-right:15px solid transparent;
    border-top:25px solid gold;
    margin:10px auto;
}

/* CANVAS */
canvas{
    width:90vw;
    max-width:380px;
    height:90vw;
    max-height:380px;
}

/* N√öT */
button{
    margin-top:20px;
    padding:12px 35px;
    font-size:18px;
    border:none;
    border-radius:8px;
    background:gold;
    color:red;
    font-weight:bold;
    box-shadow:0 0 15px gold;
}

/* K·∫æT QU·∫¢ */
.result{
    margin-top:20px;
    font-size:22px;
    min-height:40px;
}
</style>
</head>
<body>

<h1>üßß V√≤ng Quay L√¨ X√¨ 2026 üßß</h1>

<div class="cau-doi left-doi">
Ch√∫c T·∫øt An Khang<br>
Ph√°t T√†i Ph√°t L·ªôc
</div>

<div class="cau-doi right-doi">
Xu√¢n Sang V·∫°n S·ª±<br>
Nh∆∞ √ù C√°t T∆∞·ªùng
</div>

<div class="phao left"></div>
<div class="phao right"></div>

<div class="pointer"></div>
<canvas id="wheel" width="400" height="400"></canvas>

<br>
<button onclick="spin()">QUAY NGAY</button>

<div class="result" id="result"></div>

<script>

const prizes = [
 {value:"5.000ƒë", weight:50},
 {value:"10.000ƒë", weight:35},
 {value:"20.000ƒë", weight:14.9},
 {value:"50.000ƒë", weight:0},
 {value:"100.000ƒë", weight:0},
 {value:"200.000ƒë", weight:0}
];

const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

let rotation = 0;
let spinning = false;

const center = 200;
const radius = 180;
const sliceAngle = 2*Math.PI/prizes.length;

function drawWheel(){
    for(let i=0;i<prizes.length;i++){
        const start = rotation + i*sliceAngle;
        const end = start + sliceAngle;

        ctx.beginPath();
        ctx.moveTo(center,center);
        ctx.arc(center,center,radius,start,end);
        ctx.closePath();
        ctx.fillStyle = i%2==0 ? "#FFD700" : "#ff9999";
        ctx.fill();

        // TEXT LU√îN N·∫∞M NGANG
        ctx.save();
        ctx.translate(center,center);
        ctx.rotate(start + sliceAngle/2);
        ctx.rotate(-rotation);
        ctx.textAlign="center";
        ctx.fillStyle="red";
        ctx.font="bold 20px Arial";
        ctx.fillText(prizes[i].value, 0, -radius+40);
        ctx.restore();
    }

    ctx.beginPath();
    ctx.arc(center,center,radius,0,2*Math.PI);
    ctx.lineWidth=8;
    ctx.strokeStyle="gold";
    ctx.stroke();
}

function getRandomPrize(){
    let total = prizes.reduce((sum,p)=>sum+p.weight,0);
    let rand = Math.random()*total;
    for(let p of prizes){
        if(rand < p.weight) return p.value;
        rand -= p.weight;
    }
}

function angleOf(index){
    return (3*Math.PI/2) - (index*sliceAngle + sliceAngle/2);
}

function spin(){
    if(spinning) return;
    spinning = true;
    document.getElementById("result").innerHTML="";

    let result = getRandomPrize();
    let realIndex = prizes.findIndex(p=>p.value===result);

    let target = angleOf(realIndex);
    let spinAmount = 6*2*Math.PI + target - (rotation % (2*Math.PI));

    animateSpin(rotation, spinAmount, 4000, () => {
        document.getElementById("result").innerHTML =
            "üéâ B·∫°n nh·∫≠n ƒë∆∞·ª£c: <b>"+result+"</b>";
        spinning = false;
    });
}

function animateSpin(start, amount, duration, callback){
    let startTime=null;
    function animate(time){
        if(!startTime) startTime=time;
        let progress=time-startTime;
        let percent=progress/duration;

        if(percent<1){
            rotation=start+amount*(1-Math.pow(1-percent,3));
            ctx.clearRect(0,0,canvas.width,canvas.height);
            drawWheel();
            requestAnimationFrame(animate);
        }else{
            rotation
